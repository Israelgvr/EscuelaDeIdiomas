"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Hash_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Core/Hash"));
const Validator_1 = global[Symbol.for('ioc.use')]("Adonis/Core/Validator");
const Prisma_1 = global[Symbol.for('ioc.use')]("Adonis/Addons/Prisma");
const Env_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Core/Env"));
const nodemailer_1 = __importDefault(require("nodemailer"));
const Config_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Core/Config"));
const jsonwebtoken_1 = __importDefault(require("jsonwebtoken"));
const Logger_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Core/Logger"));
const moment_1 = __importDefault(require("moment"));
class AuthController {
    async index({ auth, response }) {
        const registro = await Prisma_1.prisma.usuario.findUnique({
            where: {
                id: auth.user?.id,
            },
            select: {
                id: true,
                nombre: true,
                password: true,
                activo: true,
                rememberMeToken: true,
                persona: {
                    select: {
                        id: true,
                        nombre: true,
                        apellidoPaterno: true,
                        apellidoMaterno: true,
                        email: true,
                        cedula: true,
                        cedulaComplemento: true,
                        ciudad: {
                            select: {
                                id: true,
                                nombre: true,
                                codigo: true,
                            },
                        },
                        celular: true,
                        telefono: true,
                        fechaNacimiento: true,
                        contactoNombre: true,
                        contactoCelular: true,
                        contactoTelefono: true,
                        parentesco: {
                            select: {
                                id: true,
                                nombre: true,
                            },
                        },
                        gestionDiploma: true,
                        gestionEgreso: true,
                        grado: true,
                        nacionalidad: true,
                        destinoActual: true,
                        direccion: true,
                        carnetCossmil: true,
                        carnetMilitar: true,
                        contactoCarnetCossmil: true,
                        contactoCarnetMilitar: true,
                    },
                },
                rol: {
                    select: {
                        id: true,
                        nombre: true,
                        modulos: {
                            select: {
                                id: true,
                                nombre: true,
                            },
                        },
                    },
                },
                filial: {
                    select: {
                        id: true,
                        nombre: true,
                        codigo: true,
                        localidad: true,
                        direccion: true,
                        celular: true,
                        telefono: true,
                        ciudad: {
                            select: {
                                id: true,
                                nombre: true,
                                codigo: true,
                            },
                        },
                    },
                },
            },
        });
        return response.send({
            message: 'Usuario autenticado',
            payload: registro,
        });
    }
    async store({ request, response }) {
        const payload = await request.validate({
            schema: Validator_1.schema.create({
                nombre: Validator_1.schema.string([
                    Validator_1.rules.maxLength(255),
                    Validator_1.rules.trim(),
                ]),
                password: Validator_1.schema.string([
                    Validator_1.rules.maxLength(180),
                    Validator_1.rules.trim(),
                ]),
            }),
        });
        const usuario = await Prisma_1.prisma.usuario.findUnique({
            where: {
                nombre: payload.nombre,
            },
        });
        if (usuario) {
            if (usuario.activo) {
                if (!(await Hash_1.default.verify(usuario.password, payload.password))) {
                    return response.status(422).send({
                        message: 'Acceso denegado',
                        errors: {
                            password: ['Credenciales incorrectas'],
                        },
                    });
                }
                try {
                    const token = jsonwebtoken_1.default.sign({ id: usuario.id.toString(), nombre: usuario.nombre }, Config_1.default.get('app.appKey'), {
                        expiresIn: '365 days',
                    });
                    return response.send({
                        message: 'Bienvenido',
                        payload: {
                            ...{
                                type: 'Bearer',
                                token: token
                            },
                            usuario: await Prisma_1.prisma.usuario.update({
                                where: {
                                    id: usuario.id,
                                },
                                data: {
                                    rememberMeToken: token,
                                    resetPasswordToken: null,
                                    resetPasswordLimite: null,
                                },
                                select: {
                                    id: true,
                                    nombre: true,
                                    password: true,
                                    activo: true,
                                    rememberMeToken: true,
                                    persona: {
                                        select: {
                                            id: true,
                                            nombre: true,
                                            apellidoPaterno: true,
                                            apellidoMaterno: true,
                                            email: true,
                                            cedula: true,
                                            cedulaComplemento: true,
                                            ciudad: {
                                                select: {
                                                    id: true,
                                                    nombre: true,
                                                    codigo: true,
                                                },
                                            },
                                            celular: true,
                                            telefono: true,
                                            fechaNacimiento: true,
                                            contactoNombre: true,
                                            contactoCelular: true,
                                            contactoTelefono: true,
                                            parentesco: {
                                                select: {
                                                    id: true,
                                                    nombre: true,
                                                },
                                            },
                                            gestionDiploma: true,
                                            gestionEgreso: true,
                                            grado: true,
                                            nacionalidad: true,
                                            destinoActual: true,
                                            direccion: true,
                                            carnetCossmil: true,
                                            carnetMilitar: true,
                                            contactoCarnetCossmil: true,
                                            contactoCarnetMilitar: true,
                                        },
                                    },
                                    rol: {
                                        select: {
                                            id: true,
                                            nombre: true,
                                            modulos: {
                                                select: {
                                                    id: true,
                                                    nombre: true,
                                                },
                                            },
                                        },
                                    },
                                    filial: {
                                        select: {
                                            id: true,
                                            nombre: true,
                                            codigo: true,
                                            localidad: true,
                                            direccion: true,
                                            celular: true,
                                            telefono: true,
                                            ciudad: {
                                                select: {
                                                    id: true,
                                                    nombre: true,
                                                    codigo: true,
                                                },
                                            },
                                        },
                                    },
                                },
                            }),
                        }
                    });
                }
                catch (err) {
                    return response.status(422).send({
                        message: 'Acceso denegado',
                        errors: {
                            password: ['Credenciales incorrectas'],
                        },
                    });
                }
            }
            else {
                return response.status(422).send({
                    message: 'Acceso denegado',
                    errors: {
                        nombre: ['Usuario inactivo'],
                    },
                });
            }
        }
        else {
            return response.status(422).send({
                message: 'Acceso denegado',
                errors: {
                    nombre: ['Usuario inexistente'],
                },
            });
        }
    }
    async show({}) { }
    async update({ auth, request, response }) {
        const payload = await request.validate({
            schema: Validator_1.schema.create({
                passwordAnterior: Validator_1.schema.string([
                    Validator_1.rules.maxLength(180),
                    Validator_1.rules.trim(),
                ]),
                password: Validator_1.schema.string([
                    Validator_1.rules.maxLength(180),
                    Validator_1.rules.trim(),
                    Validator_1.rules.confirmed('passwordConfirmacion'),
                ]),
            }),
        });
        if (auth.user) {
            if (auth.user.id == request.param('id')) {
                if ((await Hash_1.default.verify(auth.user.password, payload.passwordAnterior))) {
                    await Prisma_1.prisma.usuario.update({
                        where: {
                            id: auth.user.id,
                        },
                        data: {
                            password: await Hash_1.default.make(payload.password),
                            resetPasswordToken: null,
                            resetPasswordLimite: null,
                        },
                    });
                    return response.send({
                        message: 'Contraseña modificada',
                    });
                }
                else {
                    return response.status(422).send({
                        message: 'Error',
                        errors: {
                            passwordAnterior: ['Contraseña anterior incorrecta'],
                        },
                    });
                }
            }
            else {
                return response.status(401).send({
                    message: 'Acceso denegado',
                });
            }
        }
        else {
            return response.status(401).send({
                message: 'Acceso denegado',
            });
        }
    }
    async destroy({ auth, response }) {
        if (auth.user) {
            await Prisma_1.prisma.usuario.update({
                where: {
                    id: auth.user?.id,
                },
                data: {
                    rememberMeToken: null,
                },
            });
            return response.send({
                message: 'Sesión finalizada',
            });
        }
        else {
            return response.status(422).send({
                message: 'Debe iniciar sesión',
            });
        }
    }
    async resetPasswordToken({ request, response }) {
        const payload = await request.validate({
            schema: Validator_1.schema.create({
                nombre: Validator_1.schema.string([
                    Validator_1.rules.maxLength(255),
                    Validator_1.rules.trim(),
                ]),
            }),
        });
        const registro = await Prisma_1.prisma.usuario.findFirst({
            where: {
                nombre: payload.nombre,
            },
            include: {
                persona: true,
            },
        });
        if (!registro) {
            return response.status(422).send({
                message: 'Acceso denegado',
                errors: {
                    nombre: ['Usuario inexistente'],
                },
            });
        }
        if (!registro.activo) {
            return response.status(422).send({
                message: 'Acceso denegado',
                errors: {
                    nombre: ['Usuario inactivo'],
                },
            });
        }
        if (!registro.persona.email) {
            return response.status(422).send({
                message: 'Acceso denegado',
                errors: {
                    nombre: ['El usuario no cuenta con un email válido'],
                },
            });
        }
        try {
            const token = Math.floor(Math.random() * (999999 - 100000) + 100000);
            const transporter = nodemailer_1.default.createTransport({
                service: 'gmail',
                host: 'smtp.gmail.com',
                port: 587,
                secure: false,
                auth: {
                    user: Env_1.default.get('GMAIL_USUARIO'),
                    pass: Env_1.default.get('GMAIL_KEY'),
                },
            });
            await transporter.sendMail({
                from: Env_1.default.get('GMAIL_USUARIO'),
                to: registro.persona.email,
                subject: 'Recuperación de contraseña EIE',
                text: `Para recuperar su contraseña debe usar el siguiente enlace: ${Env_1.default.get('FRONTEND_URL')}/recuperacion?q=${token}&u=${payload.nombre}\nEl enlace expira en 30 minutos.`,
                html: `<p>Para recuperar su contraseña debe usar <a href="${Env_1.default.get('FRONTEND_URL')}/recuperacion?q=${token}&u=${payload.nombre}">ESTE ENLACE</a></p><p>El enlace expira en 30 minutos</p>`,
                amp: `<!doctype html>
          <html ⚡4email>
            <head>
              <meta charset="utf-8">
              <style amp4email-boilerplate>body{visibility:hidden}</style>
              <script async src="https://cdn.ampproject.org/v0.js"></script>
              <script async custom-element="amp-anim" src="https://cdn.ampproject.org/v0/amp-anim-0.1.js"></script>
            </head>
            <body>
              <p>Para recuperar su contraseña debe usar <a href="${Env_1.default.get('FRONTEND_URL')}/recuperacion?q=${token}&u=${payload.nombre}">ESTE ENLACE</a></p>
              <p>El enlace expira en 30 minutos</p>
            </body>
          </html>`
            });
            await Prisma_1.prisma.usuario.update({
                where: {
                    id: registro.id,
                },
                data: {
                    resetPasswordToken: token,
                    resetPasswordLimite: (0, moment_1.default)().add(30, 'minutes').toISOString(),
                },
            });
            return response.send({
                message: 'Revise su email para recuperar la contraseña',
            });
        }
        catch (err) {
            Logger_1.default.error(err);
            return {
                error: true
            };
        }
    }
    async resetPassword({ request, response }) {
        const payload = await request.validate({
            schema: Validator_1.schema.create({
                nombre: Validator_1.schema.string([
                    Validator_1.rules.maxLength(255),
                    Validator_1.rules.trim(),
                ]),
                resetPasswordToken: Validator_1.schema.number([
                    Validator_1.rules.range(100000, 999999),
                ]),
                password: Validator_1.schema.string([
                    Validator_1.rules.maxLength(180),
                    Validator_1.rules.trim(),
                    Validator_1.rules.confirmed('passwordConfirmacion'),
                ]),
            }),
        });
        const registro = await Prisma_1.prisma.usuario.findFirst({
            where: {
                nombre: payload.nombre,
            },
            include: {
                persona: true,
            },
        });
        if (!registro) {
            return response.status(422).send({
                message: 'Usuario inexistente',
            });
        }
        if (!registro.activo) {
            return response.status(422).send({
                message: 'Usuario inactivo',
            });
        }
        if (registro.resetPasswordToken != payload.resetPasswordToken) {
            return response.status(422).send({
                message: 'Acceso denegado',
                errors: {
                    password: ['Código incorrecto'],
                },
            });
        }
        if (registro.resetPasswordLimite) {
            if ((0, moment_1.default)().diff((0, moment_1.default)(registro.resetPasswordLimite.toISOString(), moment_1.default.ISO_8601), 'minutes') > 30) {
                return response.status(422).send({
                    message: 'Acceso denegado',
                    errors: {
                        password: ['Código expirado'],
                    },
                });
            }
        }
        const token = jsonwebtoken_1.default.sign({ id: registro.id.toString(), nombre: registro.nombre }, Config_1.default.get('app.appKey'), {
            expiresIn: '365 days',
        });
        return response.send({
            message: 'Contraseña modificada',
            payload: {
                ...{
                    type: 'Bearer',
                    token: token
                },
                usuario: await Prisma_1.prisma.usuario.update({
                    where: {
                        id: registro.id,
                    },
                    data: {
                        password: await Hash_1.default.make(payload.password),
                        rememberMeToken: token,
                        resetPasswordToken: null,
                        resetPasswordLimite: null,
                    },
                    select: {
                        id: true,
                        nombre: true,
                        password: true,
                        activo: true,
                        rememberMeToken: true,
                        persona: {
                            select: {
                                id: true,
                                nombre: true,
                                apellidoPaterno: true,
                                apellidoMaterno: true,
                                email: true,
                                cedula: true,
                                cedulaComplemento: true,
                                ciudad: {
                                    select: {
                                        id: true,
                                        nombre: true,
                                        codigo: true,
                                    },
                                },
                                celular: true,
                                telefono: true,
                                fechaNacimiento: true,
                                contactoNombre: true,
                                contactoCelular: true,
                                contactoTelefono: true,
                                parentesco: {
                                    select: {
                                        id: true,
                                        nombre: true,
                                    },
                                },
                                gestionDiploma: true,
                                gestionEgreso: true,
                                grado: true,
                                nacionalidad: true,
                                destinoActual: true,
                                direccion: true,
                                carnetCossmil: true,
                                carnetMilitar: true,
                                contactoCarnetCossmil: true,
                                contactoCarnetMilitar: true,
                            },
                        },
                        rol: {
                            select: {
                                id: true,
                                nombre: true,
                                modulos: {
                                    select: {
                                        id: true,
                                        nombre: true,
                                    },
                                },
                            },
                        },
                        filial: {
                            select: {
                                id: true,
                                nombre: true,
                                codigo: true,
                                localidad: true,
                                direccion: true,
                                celular: true,
                                telefono: true,
                                ciudad: {
                                    select: {
                                        id: true,
                                        nombre: true,
                                        codigo: true,
                                    },
                                },
                            },
                        },
                    },
                }),
            }
        });
    }
}
exports.default = AuthController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXV0aENvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJBdXRoQ29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLGtGQUF3QztBQUV4QywyRUFBMEQ7QUFDMUQsdUVBQWtEO0FBQ2xELGdGQUFzQztBQUN0Qyw0REFBbUM7QUFDbkMsc0ZBQTRDO0FBQzVDLGdFQUE4QjtBQUM5QixzRkFBNEM7QUFDNUMsb0RBQTJCO0FBRTNCLE1BQXFCLGNBQWM7SUFDMUIsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQXVCO1FBQ3hELE1BQU0sUUFBUSxHQUFHLE1BQU0sZUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUM7WUFDL0MsS0FBSyxFQUFFO2dCQUNMLEVBQUUsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7YUFDbEI7WUFDRCxNQUFNLEVBQUU7Z0JBQ04sRUFBRSxFQUFFLElBQUk7Z0JBQ1IsTUFBTSxFQUFFLElBQUk7Z0JBQ1osUUFBUSxFQUFFLElBQUk7Z0JBQ2QsTUFBTSxFQUFFLElBQUk7Z0JBQ1osZUFBZSxFQUFFLElBQUk7Z0JBQ3JCLE9BQU8sRUFBRTtvQkFDUCxNQUFNLEVBQ047d0JBQ0UsRUFBRSxFQUFFLElBQUk7d0JBQ1IsTUFBTSxFQUFFLElBQUk7d0JBQ1osZUFBZSxFQUFFLElBQUk7d0JBQ3JCLGVBQWUsRUFBRSxJQUFJO3dCQUNyQixLQUFLLEVBQUUsSUFBSTt3QkFDWCxNQUFNLEVBQUUsSUFBSTt3QkFDWixpQkFBaUIsRUFBRSxJQUFJO3dCQUN2QixNQUFNLEVBQUU7NEJBQ04sTUFBTSxFQUFFO2dDQUNOLEVBQUUsRUFBRSxJQUFJO2dDQUNSLE1BQU0sRUFBRSxJQUFJO2dDQUNaLE1BQU0sRUFBRSxJQUFJOzZCQUNiO3lCQUNGO3dCQUNELE9BQU8sRUFBRSxJQUFJO3dCQUNiLFFBQVEsRUFBRSxJQUFJO3dCQUNkLGVBQWUsRUFBRSxJQUFJO3dCQUNy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TixNQUFNLEVBQUU7d0NBQ04sRUFBRSxFQUFFLElBQUk7d0NBQ1IsTUFBTSxFQUFFLElBQUk7d0NBQ1osTUFBTSxFQUFFLElBQUk7cUNBQ2I7aUNBQ0Y7NkJBQ0Y7eUJBQ0Y7cUJBQ0Y7aUJBQ0YsQ0FBQzthQUNIO1NBQ0YsQ0FBQyxDQUFBO0lBQ0osQ0FBQztDQUNGO0FBdGpCRCxpQ0FzakJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEhhc2ggZnJvbSAnQGlvYzpBZG9uaXMvQ29yZS9IYXNoJ1xuaW1wb3J0IHR5cGUgeyBIdHRwQ29udGV4dENvbnRyYWN0IH0gZnJvbSAnQGlvYzpBZG9uaXMvQ29yZS9IdHRwQ29udGV4dCdcbmltcG9ydCB7IHNjaGVtYSwgcnVsZXMgfSBmcm9tICdAaW9jOkFkb25pcy9Db3JlL1ZhbGlkYXRvcidcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJ0Bpb2M6QWRvbmlzL0FkZG9ucy9QcmlzbWEnXG5pbXBvcnQgRW52IGZyb20gJ0Bpb2M6QWRvbmlzL0NvcmUvRW52J1xuaW1wb3J0IG5vZGVtYWlsZXIgZnJvbSAnbm9kZW1haWxlcidcbmltcG9ydCBDb25maWcgZnJvbSAnQGlvYzpBZG9uaXMvQ29yZS9Db25maWcnXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcbmltcG9ydCBMb2dnZXIgZnJvbSAnQGlvYzpBZG9uaXMvQ29yZS9Mb2dnZXInXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXV0aENvbnRyb2xsZXIge1xuICBwdWJsaWMgYXN5bmMgaW5kZXgoeyBhdXRoLCByZXNwb25zZSB9OiBIdHRwQ29udGV4dENvbnRyYWN0KSB7XG4gICAgY29uc3QgcmVnaXN0cm8gPSBhd2FpdCBwcmlzbWEudXN1YXJpby5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBhdXRoLnVzZXI/LmlkLFxuICAgICAgfSxcbiAgICAgIHNlbGVjdDoge1xuICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgbm9tYnJlOiB0cnVlLFxuICAgICAgICBwYXNzd29yZDogdHJ1ZSxcbiAgICAgICAgYWN0aXZvOiB0cnVlLFxuICAgICAgICByZW1lbWJlck1lVG9rZW46IHRydWUsXG4gICAgICAgIHBlcnNvbmE6IHtcbiAgICAgICAgICBzZWxlY3Q6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICBub21icmU6IHRydWUsXG4gICAgICAgICAgICBhcGVsbGlkb1BhdGVybm86IHRydWUsXG4gICAgICAgICAgICBhcGVsbGlkb01hdGVybm86IHRydWUsXG4gICAgICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgICAgIGNlZHVsYTogdHJ1ZSxcbiAgICAgICAgICAgIGNlZHVsYUNvbXBsZW1lbnRvOiB0cnVlLFxuICAgICAgICAgICAgY2l1ZGFkOiB7XG4gICAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5vbWJyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb2RpZ286IHRydWUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2VsdWxhcjogdHJ1ZSxcbiAgICAgICAgICAgIHRlbGVmb25vOiB0cnVlLFxuICAgICAgICAgICAgZmVjaGFOYWNpbWllbnRvOiB0cnVlLFxuICAgICAgICAgICAgY29udGFjdG9Ob21icmU6IHRydWUsXG4gICAgICAgICAgICBjb250YWN0b0NlbHVsYXI6IHRydWUsXG4gICAgICAgICAgICBjb250YWN0b1RlbGVmb25vOiB0cnVlLFxuICAgICAgICAgICAgcGFyZW50ZXNjbzoge1xuICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBub21icmU6IHRydWUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2VzdGlvbkRpcGxvbWE6IHRydWUsXG4gICAgICAgICAgICBnZXN0aW9uRWdyZXNvOiB0cnVlLFxuICAgICAgICAgICAgZ3JhZG86IHRydWUsXG4gICAgICAgICAgICBuYWNpb25hbGlkYWQ6IHRydWUsXG4gICAgICAgICAgICBkZXN0aW5vQWN0dWFsOiB0cnVlLFxuICAgICAgICAgICAgZGlyZWNjaW9uOiB0cnVlLFxuICAgICAgICAgICAgY2FybmV0Q29zc21pbDogdHJ1ZSxcbiAgICAgICAgICAgIGNhcm5ldE1pbGl0YXI6IHRydWUsXG4gICAgICAgICAgICBjb250YWN0b0Nhcm5ldENvc3NtaWw6IHRydWUsXG4gICAgICAgICAgICBjb250YWN0b0Nhcm5ldE1pbGl0YXI6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcm9sOiB7XG4gICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgIG5vbWJyZTogdHJ1ZSxcbiAgICAgICAgICAgIG1vZHVsb3M6IHtcbiAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbm9tYnJlOiB0cnVlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBmaWxpYWw6IHtcbiAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgbm9tYnJlOiB0cnVlLFxuICAgICAgICAgICAgY29kaWdvOiB0cnVlLFxuICAgICAgICAgICAgbG9jYWxpZGFkOiB0cnVlLFxuICAgICAgICAgICAgZGlyZWNjaW9uOiB0cnVlLFxuICAgICAgICAgICAgY2VsdWxhcjogdHJ1ZSxcbiAgICAgICAgICAgIHRlbGVmb25vOiB0cnVlLFxuICAgICAgICAgICAgY2l1ZGFkOiB7XG4gICAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5vbWJyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb2RpZ286IHRydWUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pXG4gICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQoe1xuICAgICAgbWVzc2FnZTogJ1VzdWFyaW8gYXV0ZW50aWNhZG8nLFxuICAgICAgcGF5bG9hZDogcmVnaXN0cm8sXG4gICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzdG9yZSh7IHJlcXVlc3QsIHJlc3BvbnNlIH06IEh0dHBDb250ZXh0Q29udHJhY3QpIHtcbiAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdC52YWxpZGF0ZSh7XG4gICAgICBzY2hlbWE6IHNjaGVtYS5jcmVhdGUoe1xuICAgICAgICBub21icmU6IHNjaGVtYS5zdHJpbmcoW1xuICAgICAgICAgIHJ1bGVzLm1heExlbmd0aCgyNTUpLFxuICAgICAgICAgIHJ1bGVzLnRyaW0oKSxcbiAgICAgICAgXSksXG4gICAgICAgIHBhc3N3b3JkOiBzY2hlbWEuc3RyaW5nKFtcbiAgICAgICAgICBydWxlcy5tYXhMZW5ndGgoMTgwKSxcbiAgICAgICAgICBydWxlcy50cmltKCksXG4gICAgICAgIF0pLFxuICAgICAgfSksXG4gICAgfSlcbiAgICBjb25zdCB1c3VhcmlvID0gYXdhaXQgcHJpc21hLnVzdWFyaW8uZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBub21icmU6IHBheWxvYWQubm9tYnJlLFxuICAgICAgfSxcbiAgICB9KVxuICAgIGlmICh1c3VhcmlvKSB7XG4gICAgICBpZiAodXN1YXJpby5hY3Rpdm8pIHtcbiAgICAgICAgaWYgKCEoYXdhaXQgSGFzaC52ZXJpZnkodXN1YXJpby5wYXNzd29yZCwgcGF5bG9hZC5wYXNzd29yZCkpKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MjIpLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ0FjY2VzbyBkZW5lZ2FkbycsXG4gICAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgICAgcGFzc3dvcmQ6IFsnQ3JlZGVuY2lhbGVzIGluY29ycmVjdGFzJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgaWQ6IHVzdWFyaW8uaWQudG9TdHJpbmcoKSwgbm9tYnJlOiB1c3VhcmlvLm5vbWJyZSB9LCBDb25maWcuZ2V0KCdhcHAuYXBwS2V5JyksIHtcbiAgICAgICAgICAgIGV4cGlyZXNJbjogJzM2NSBkYXlzJyxcbiAgICAgICAgICB9KVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdCaWVudmVuaWRvJyxcbiAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgLi4ue1xuICAgICAgICAgICAgICAgIHR5cGU6ICdCZWFyZXInLFxuICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlblxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB1c3VhcmlvOiBhd2FpdCBwcmlzbWEudXN1YXJpby51cGRhdGUoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgICBpZDogdXN1YXJpby5pZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgIHJlbWVtYmVyTWVUb2tlbjogdG9rZW4sXG4gICAgICAgICAgICAgICAgICByZXNldFBhc3N3b3JkVG9rZW46IG51bGwsXG4gICAgICAgICAgICAgICAgICByZXNldFBhc3N3b3JkTGltaXRlOiBudWxsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG5vbWJyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgYWN0aXZvOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgcmVtZW1iZXJNZVRva2VuOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgcGVyc29uYToge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBub21icmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgYXBlbGxpZG9QYXRlcm5vOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGFwZWxsaWRvTWF0ZXJubzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBjZWR1bGE6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgY2VkdWxhQ29tcGxlbWVudG86IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgY2l1ZGFkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vbWJyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29kaWdvOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIGNlbHVsYXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgdGVsZWZvbm86IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgZmVjaGFOYWNpbWllbnRvOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RvTm9tYnJlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RvQ2VsdWxhcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBjb250YWN0b1RlbGVmb25vOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIHBhcmVudGVzY286IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9tYnJlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIGdlc3Rpb25EaXBsb21hOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGdlc3Rpb25FZ3Jlc286IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgZ3JhZG86IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgbmFjaW9uYWxpZGFkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGRlc3Rpbm9BY3R1YWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgZGlyZWNjaW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGNhcm5ldENvc3NtaWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgY2FybmV0TWlsaXRhcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBjb250YWN0b0Nhcm5ldENvc3NtaWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgY29udGFjdG9DYXJuZXRNaWxpdGFyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHJvbDoge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBub21icmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgbW9kdWxvczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBub21icmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZmlsaWFsOiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIG5vbWJyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBjb2RpZ286IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgbG9jYWxpZGFkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGRpcmVjY2lvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBjZWx1bGFyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIHRlbGVmb25vOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGNpdWRhZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBub21icmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGlnbzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSBjYXRjaChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQyMikuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnQWNjZXNvIGRlbmVnYWRvJyxcbiAgICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgICBwYXNzd29yZDogWydDcmVkZW5jaWFsZXMgaW5jb3JyZWN0YXMnXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MjIpLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdBY2Nlc28gZGVuZWdhZG8nLFxuICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgbm9tYnJlOiBbJ1VzdWFyaW8gaW5hY3Rpdm8nXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQyMikuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6ICdBY2Nlc28gZGVuZWdhZG8nLFxuICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICBub21icmU6IFsnVXN1YXJpbyBpbmV4aXN0ZW50ZSddLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2hvdyh7fTogSHR0cENvbnRleHRDb250cmFjdCkge31cblxuICBwdWJsaWMgYXN5bmMgdXBkYXRlKHsgYXV0aCwgcmVxdWVzdCwgcmVzcG9uc2UgfTogSHR0cENvbnRleHRDb250cmFjdCkge1xuICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXF1ZXN0LnZhbGlkYXRlKHtcbiAgICAgIHNjaGVtYTogc2NoZW1hLmNyZWF0ZSh7XG4gICAgICAgIHBhc3N3b3JkQW50ZXJpb3I6IHNjaGVtYS5zdHJpbmcoW1xuICAgICAgICAgIHJ1bGVzLm1heExlbmd0aCgxODApLFxuICAgICAgICAgIHJ1bGVzLnRyaW0oKSxcbiAgICAgICAgXSksXG4gICAgICAgIHBhc3N3b3JkOiBzY2hlbWEuc3RyaW5nKFtcbiAgICAgICAgICBydWxlcy5tYXhMZW5ndGgoMTgwKSxcbiAgICAgICAgICBydWxlcy50cmltKCksXG4gICAgICAgICAgcnVsZXMuY29uZmlybWVkKCdwYXNzd29yZENvbmZpcm1hY2lvbicpLFxuICAgICAgICBdKSxcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgaWYgKGF1dGgudXNlcikge1xuICAgICAgaWYgKGF1dGgudXNlci5pZCA9PSByZXF1ZXN0LnBhcmFtKCdpZCcpKSB7XG4gICAgICAgIGlmICgoYXdhaXQgSGFzaC52ZXJpZnkoYXV0aC51c2VyLnBhc3N3b3JkLCBwYXlsb2FkLnBhc3N3b3JkQW50ZXJpb3IpKSkge1xuICAgICAgICAgIGF3YWl0IHByaXNtYS51c3VhcmlvLnVwZGF0ZSh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICBpZDogYXV0aC51c2VyLmlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgcGFzc3dvcmQ6IGF3YWl0IEhhc2gubWFrZShwYXlsb2FkLnBhc3N3b3JkKSxcbiAgICAgICAgICAgICAgcmVzZXRQYXNzd29yZFRva2VuOiBudWxsLFxuICAgICAgICAgICAgICByZXNldFBhc3N3b3JkTGltaXRlOiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdDb250cmFzZcOxYSBtb2RpZmljYWRhJyxcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDIyKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvcicsXG4gICAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgICAgcGFzc3dvcmRBbnRlcmlvcjogWydDb250cmFzZcOxYSBhbnRlcmlvciBpbmNvcnJlY3RhJ10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiAnQWNjZXNvIGRlbmVnYWRvJyxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiAnQWNjZXNvIGRlbmVnYWRvJyxcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFzeW5jIGRlc3Ryb3koeyBhdXRoLCByZXNwb25zZSB9OiBIdHRwQ29udGV4dENvbnRyYWN0KSB7XG4gICAgaWYgKGF1dGgudXNlcikge1xuICAgICAgYXdhaXQgcHJpc21hLnVzdWFyaW8udXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBpZDogYXV0aC51c2VyPy5pZCxcbiAgICAgICAgfSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHJlbWVtYmVyTWVUb2tlbjogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6ICdTZXNpw7NuIGZpbmFsaXphZGEnLFxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MjIpLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiAnRGViZSBpbmljaWFyIHNlc2nDs24nLFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgcmVzZXRQYXNzd29yZFRva2VuKHsgcmVxdWVzdCwgcmVzcG9uc2UgfTogSHR0cENvbnRleHRDb250cmFjdCkge1xuICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXF1ZXN0LnZhbGlkYXRlKHtcbiAgICAgIHNjaGVtYTogc2NoZW1hLmNyZWF0ZSh7XG4gICAgICAgIG5vbWJyZTogc2NoZW1hLnN0cmluZyhbXG4gICAgICAgICAgcnVsZXMubWF4TGVuZ3RoKDI1NSksXG4gICAgICAgICAgcnVsZXMudHJpbSgpLFxuICAgICAgICBdKSxcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgY29uc3QgcmVnaXN0cm8gPSBhd2FpdCBwcmlzbWEudXN1YXJpby5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgbm9tYnJlOiBwYXlsb2FkLm5vbWJyZSxcbiAgICAgIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIHBlcnNvbmE6IHRydWUsXG4gICAgICB9LFxuICAgIH0pXG4gICAgaWYgKCFyZWdpc3Rybykge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MjIpLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiAnQWNjZXNvIGRlbmVnYWRvJyxcbiAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgbm9tYnJlOiBbJ1VzdWFyaW8gaW5leGlzdGVudGUnXSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmICghcmVnaXN0cm8uYWN0aXZvKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQyMikuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6ICdBY2Nlc28gZGVuZWdhZG8nLFxuICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICBub21icmU6IFsnVXN1YXJpbyBpbmFjdGl2byddLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICB9XG4gICAgaWYgKCFyZWdpc3Ryby5wZXJzb25hLmVtYWlsKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQyMikuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6ICdBY2Nlc28gZGVuZWdhZG8nLFxuICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICBub21icmU6IFsnRWwgdXN1YXJpbyBubyBjdWVudGEgY29uIHVuIGVtYWlsIHbDoWxpZG8nXSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICg5OTk5OTkgLSAxMDAwMDApICsgMTAwMDAwKVxuICAgICAgY29uc3QgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XG4gICAgICAgIHNlcnZpY2U6ICdnbWFpbCcsXG4gICAgICAgIGhvc3Q6ICdzbXRwLmdtYWlsLmNvbScsXG4gICAgICAgIHBvcnQ6IDU4NyxcbiAgICAgICAgc2VjdXJlOiBmYWxzZSxcbiAgICAgICAgYXV0aDoge1xuICAgICAgICAgIHVzZXI6IEVudi5nZXQoJ0dNQUlMX1VTVUFSSU8nKSxcbiAgICAgICAgICBwYXNzOiBFbnYuZ2V0KCdHTUFJTF9LRVknKSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgICBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbCh7XG4gICAgICAgIGZyb206IEVudi5nZXQoJ0dNQUlMX1VTVUFSSU8nKSxcbiAgICAgICAgdG86IHJlZ2lzdHJvLnBlcnNvbmEuZW1haWwsXG4gICAgICAgIHN1YmplY3Q6ICdSZWN1cGVyYWNpw7NuIGRlIGNvbnRyYXNlw7FhIEVJRScsXG4gICAgICAgIHRleHQ6IGBQYXJhIHJlY3VwZXJhciBzdSBjb250cmFzZcOxYSBkZWJlIHVzYXIgZWwgc2lndWllbnRlIGVubGFjZTogJHtFbnYuZ2V0KCdGUk9OVEVORF9VUkwnKX0vcmVjdXBlcmFjaW9uP3E9JHt0b2tlbn0mdT0ke3BheWxvYWQubm9tYnJlfVxcbkVsIGVubGFjZSBleHBpcmEgZW4gMzAgbWludXRvcy5gLFxuICAgICAgICBodG1sOiBgPHA+UGFyYSByZWN1cGVyYXIgc3UgY29udHJhc2XDsWEgZGViZSB1c2FyIDxhIGhyZWY9XCIke0Vudi5nZXQoJ0ZST05URU5EX1VSTCcpfS9yZWN1cGVyYWNpb24/cT0ke3Rva2VufSZ1PSR7cGF5bG9hZC5ub21icmV9XCI+RVNURSBFTkxBQ0U8L2E+PC9wPjxwPkVsIGVubGFjZSBleHBpcmEgZW4gMzAgbWludXRvczwvcD5gLFxuICAgICAgICBhbXA6IGA8IWRvY3R5cGUgaHRtbD5cbiAgICAgICAgICA8aHRtbCDimqE0ZW1haWw+XG4gICAgICAgICAgICA8aGVhZD5cbiAgICAgICAgICAgICAgPG1ldGEgY2hhcnNldD1cInV0Zi04XCI+XG4gICAgICAgICAgICAgIDxzdHlsZSBhbXA0ZW1haWwtYm9pbGVycGxhdGU+Ym9keXt2aXNpYmlsaXR5OmhpZGRlbn08L3N0eWxlPlxuICAgICAgICAgICAgICA8c2NyaXB0IGFzeW5jIHNyYz1cImh0dHBzOi8vY2RuLmFtcHByb2plY3Qub3JnL3YwLmpzXCI+PC9zY3JpcHQ+XG4gICAgICAgICAgICAgIDxzY3JpcHQgYXN5bmMgY3VzdG9tLWVsZW1lbnQ9XCJhbXAtYW5pbVwiIHNyYz1cImh0dHBzOi8vY2RuLmFtcHByb2plY3Qub3JnL3YwL2FtcC1hbmltLTAuMS5qc1wiPjwvc2NyaXB0PlxuICAgICAgICAgICAgPC9oZWFkPlxuICAgICAgICAgICAgPGJvZHk+XG4gICAgICAgICAgICAgIDxwPlBhcmEgcmVjdXBlcmFyIHN1IGNvbnRyYXNlw7FhIGRlYmUgdXNhciA8YSBocmVmPVwiJHtFbnYuZ2V0KCdGUk9OVEVORF9VUkwnKX0vcmVjdXBlcmFjaW9uP3E9JHt0b2tlbn0mdT0ke3BheWxvYWQubm9tYnJlfVwiPkVTVEUgRU5MQUNFPC9hPjwvcD5cbiAgICAgICAgICAgICAgPHA+RWwgZW5sYWNlIGV4cGlyYSBlbiAzMCBtaW51dG9zPC9wPlxuICAgICAgICAgICAgPC9ib2R5PlxuICAgICAgICAgIDwvaHRtbD5gXG4gICAgICB9KVxuICAgICAgYXdhaXQgcHJpc21hLnVzdWFyaW8udXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBpZDogcmVnaXN0cm8uaWQsXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICByZXNldFBhc3N3b3JkVG9rZW46IHRva2VuLFxuICAgICAgICAgIHJlc2V0UGFzc3dvcmRMaW1pdGU6IG1vbWVudCgpLmFkZCgzMCwgJ21pbnV0ZXMnKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogJ1JldmlzZSBzdSBlbWFpbCBwYXJhIHJlY3VwZXJhciBsYSBjb250cmFzZcOxYScsXG4gICAgICB9KVxuICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoZXJyKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXJyb3I6IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgcmVzZXRQYXNzd29yZCh7IHJlcXVlc3QsIHJlc3BvbnNlIH06IEh0dHBDb250ZXh0Q29udHJhY3QpIHtcbiAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdC52YWxpZGF0ZSh7XG4gICAgICBzY2hlbWE6IHNjaGVtYS5jcmVhdGUoe1xuICAgICAgICBub21icmU6IHNjaGVtYS5zdHJpbmcoW1xuICAgICAgICAgIHJ1bGVzLm1heExlbmd0aCgyNTUpLFxuICAgICAgICAgIHJ1bGVzLnRyaW0oKSxcbiAgICAgICAgXSksXG4gICAgICAgIHJlc2V0UGFzc3dvcmRUb2tlbjogc2NoZW1hLm51bWJlcihbXG4gICAgICAgICAgcnVsZXMucmFuZ2UoMTAwMDAwLCA5OTk5OTkpLFxuICAgICAgICBdKSxcbiAgICAgICAgcGFzc3dvcmQ6IHNjaGVtYS5zdHJpbmcoW1xuICAgICAgICAgIHJ1bGVzLm1heExlbmd0aCgxODApLFxuICAgICAgICAgIHJ1bGVzLnRyaW0oKSxcbiAgICAgICAgICBydWxlcy5jb25maXJtZWQoJ3Bhc3N3b3JkQ29uZmlybWFjaW9uJyksXG4gICAgICAgIF0pLFxuICAgICAgfSksXG4gICAgfSlcbiAgICBjb25zdCByZWdpc3RybyA9IGF3YWl0IHByaXNtYS51c3VhcmlvLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBub21icmU6IHBheWxvYWQubm9tYnJlLFxuICAgICAgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgcGVyc29uYTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICBpZiAoIXJlZ2lzdHJvKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQyMikuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6ICdVc3VhcmlvIGluZXhpc3RlbnRlJyxcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmICghcmVnaXN0cm8uYWN0aXZvKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQyMikuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6ICdVc3VhcmlvIGluYWN0aXZvJyxcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmIChyZWdpc3Ryby5yZXNldFBhc3N3b3JkVG9rZW4gIT0gcGF5bG9hZC5yZXNldFBhc3N3b3JkVG9rZW4pIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDIyKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogJ0FjY2VzbyBkZW5lZ2FkbycsXG4gICAgICAgIGVycm9yczoge1xuICAgICAgICAgIHBhc3N3b3JkOiBbJ0PDs2RpZ28gaW5jb3JyZWN0byddLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICB9XG4gICAgaWYgKHJlZ2lzdHJvLnJlc2V0UGFzc3dvcmRMaW1pdGUpIHtcbiAgICAgIGlmIChtb21lbnQoKS5kaWZmKG1vbWVudChyZWdpc3Ryby5yZXNldFBhc3N3b3JkTGltaXRlLnRvSVNPU3RyaW5nKCksIG1vbWVudC5JU09fODYwMSksICdtaW51dGVzJykgPiAzMCkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQyMikuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogJ0FjY2VzbyBkZW5lZ2FkbycsXG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBwYXNzd29yZDogWydDw7NkaWdvIGV4cGlyYWRvJ10sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IGlkOiByZWdpc3Ryby5pZC50b1N0cmluZygpLCBub21icmU6IHJlZ2lzdHJvLm5vbWJyZSB9LCBDb25maWcuZ2V0KCdhcHAuYXBwS2V5JyksIHtcbiAgICAgIGV4cGlyZXNJbjogJzM2NSBkYXlzJyxcbiAgICB9KVxuICAgIHJldHVybiByZXNwb25zZS5zZW5kKHtcbiAgICAgIG1lc3NhZ2U6ICdDb250cmFzZcOxYSBtb2RpZmljYWRhJyxcbiAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgLi4ue1xuICAgICAgICAgIHR5cGU6ICdCZWFyZXInLFxuICAgICAgICAgIHRva2VuOiB0b2tlblxuICAgICAgICB9LFxuICAgICAgICB1c3VhcmlvOiBhd2FpdCBwcmlzbWEudXN1YXJpby51cGRhdGUoe1xuICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICBpZDogcmVnaXN0cm8uaWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBwYXNzd29yZDogYXdhaXQgSGFzaC5tYWtlKHBheWxvYWQucGFzc3dvcmQpLFxuICAgICAgICAgICAgcmVtZW1iZXJNZVRva2VuOiB0b2tlbixcbiAgICAgICAgICAgIHJlc2V0UGFzc3dvcmRUb2tlbjogbnVsbCxcbiAgICAgICAgICAgIHJlc2V0UGFzc3dvcmRMaW1pdGU6IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgbm9tYnJlOiB0cnVlLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHRydWUsXG4gICAgICAgICAgICBhY3Rpdm86IHRydWUsXG4gICAgICAgICAgICByZW1lbWJlck1lVG9rZW46IHRydWUsXG4gICAgICAgICAgICBwZXJzb25hOiB7XG4gICAgICAgICAgICAgIHNlbGVjdDpcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5vbWJyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhcGVsbGlkb1BhdGVybm86IHRydWUsXG4gICAgICAgICAgICAgICAgYXBlbGxpZG9NYXRlcm5vOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVtYWlsOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNlZHVsYTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjZWR1bGFDb21wbGVtZW50bzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjaXVkYWQ6IHtcbiAgICAgICAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbm9tYnJlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb2RpZ286IHRydWUsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2VsdWxhcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0ZWxlZm9ubzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmZWNoYU5hY2ltaWVudG86IHRydWUsXG4gICAgICAgICAgICAgICAgY29udGFjdG9Ob21icmU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29udGFjdG9DZWx1bGFyOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbnRhY3RvVGVsZWZvbm86IHRydWUsXG4gICAgICAgICAgICAgICAgcGFyZW50ZXNjbzoge1xuICAgICAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBub21icmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2VzdGlvbkRpcGxvbWE6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2VzdGlvbkVncmVzbzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBncmFkbzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYWNpb25hbGlkYWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgZGVzdGlub0FjdHVhbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkaXJlY2Npb246IHRydWUsXG4gICAgICAgICAgICAgICAgY2FybmV0Q29zc21pbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjYXJuZXRNaWxpdGFyOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbnRhY3RvQ2FybmV0Q29zc21pbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb250YWN0b0Nhcm5ldE1pbGl0YXI6IHRydWUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcm9sOiB7XG4gICAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5vbWJyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtb2R1bG9zOiB7XG4gICAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG5vbWJyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWxpYWw6IHtcbiAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbm9tYnJlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvZGlnbzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsb2NhbGlkYWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgZGlyZWNjaW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNlbHVsYXI6IHRydWUsXG4gICAgICAgICAgICAgICAgdGVsZWZvbm86IHRydWUsXG4gICAgICAgICAgICAgICAgY2l1ZGFkOiB7XG4gICAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG5vbWJyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29kaWdvOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4iXX0=